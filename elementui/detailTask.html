<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <!-- import CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/element-ui/lib/theme-chalk/index.css"
    />
    <style>
      tr:hover {
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <div>
        <label for="">任务类型：</label>
        <span>{{taskDetail.type}}</span>
      </div>
      <div>
        <label for="">地点：</label>
        <span>{{taskDetail.address}}</span>
      </div>
      <div>
        <label for="">描述：</label>
        <span>{{taskDetail.description}}</span>
      </div>
      <div>
        <label for="">图片/视频：</label>
        <span>{{taskDetail.attches}}</span>
      </div>
      <div>
        <label for="">处置记录：</label>
        <span>{{taskDetail.handleRecord}}</span>
      </div>
      <div>
        <el-tabs v-model="activeName" @tab-click="handleClick">
          <el-tab-pane label="处置记录" name="first">处置记录</el-tab-pane>
          <el-tab-pane label="附近队伍" name="second">附近队伍</el-tab-pane>
          <el-tab-pane label="附近物资" name="third">附近物资</el-tab-pane>
        </el-tabs>
      </div>
    </div>
  </body>
  <!-- import Vue before Element -->
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <!-- import JavaScript -->
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  <script>
    new Vue({
      el: "#app",
      data: function () {
        return {
          taskDetail: {},
          activeName: "first",
          currentName: "", // 记录当前tab名称
        };
      },
      methods: {
        handleClick(tab, event) {
          if (tab && tab.name) {
            if (tab.name === this.currentName) {
              return;
            }
            switch (tab.name) {
              case "first":
                console.log("first");
                break;
              case "second":
                console.log("second");
                break;
              case "third":
                console.log("third");

                break;
            }
            this.currentName = tab.name; //更新当前tab名称
          }

          console.log(tab, event);
        },
      },
      created: function () {
        this.currentName = this.activeName;
      },

      mounted: function () {
        this.taskDetail = {
          type: "内涝积水",
          address: "华阳街道XX",
          description: "description",
          attches: "url",
          handleRecord: "record",
        };
      },
    });
  </script>
</html>
